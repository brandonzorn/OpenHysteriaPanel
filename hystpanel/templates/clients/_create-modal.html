{% extends "clients/base-modal.html" %}
{% load i18n %}

{% block modal_id %}clientModal{% endblock %}
{% block modal_panel_id %}clientModalPanel{% endblock %}
{% block modal_title_id_attr %} id="clientModalTitle"{% endblock %}
{% block modal_close_id_attr %} id="clientModalClose"{% endblock %}
{% block modal_title %}{% trans "Create client" %}{% endblock %}

{% block modal_body %}
  <form id="clientForm" class="grid grid-cols-1 md:grid-cols-2 gap-5 mt-2">
    {% for field in form %}
      <div class="md:col-span-2">
        <label for="{{ field.id_for_label }}" class="label-text block mb-1">
          {{ field.label }}
          {% if field.field.required %}
            <span class="text-red-400">*</span>
          {% endif %}
        </label>

        {% if field.name == "password" %}
          <div class="flex gap-2">
            {{ field }}
            <button
                id="generatePasswordButton"
                type="button"
                class="btn-ghost px-4"
            >
              {% trans "Generate" %}
            </button>
          </div>
        {% else %}
          {{ field }}
        {% endif %}
        {% if field.help_text %}
          <p class="text-xs text-gray-500 mt-1">{{ field.help_text }}</p>
        {% endif %}
        {% if field.errors %}
          <p class="text-xs text-red-400 mt-1">{{ field.errors|striptags }}</p>
        {% endif %}
      </div>
    {% endfor %}
    <div id="clientFormError" class="md:col-span-2 text-sm text-red-400 hidden bg-red-500/10 border border-red-500/20 rounded-lg px-3 py-2"></div>
  </form>
{% endblock %}
{% block modal_footer %}
  <div class="md:col-span-2 flex items-center justify-end gap-3 pt-2">
    <button id="clientCancel" type="button" class="btn-ghost px-4 py-2">
      {% trans "Cancel" %}
    </button>
    <button id="clientSubmit" type="submit" form="clientForm" class="btn-primary px-5 py-2">
      {% trans "Create" %}
    </button>
  </div>
{% endblock %}
